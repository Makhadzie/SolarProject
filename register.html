<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/public/styles/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

    <title>Solar Panel</title>
</head>

<body>

    <h1>Register Your <span class="account">Account</span></h1>



    <form class="registerForm">
        <div class="formContainer">
            <label for="email">Email</label>
            <input class="form-control" id="email" type="text">
        </div>
        <div class="formContainer">
            <label for="email">Password</label>
            <input class="form-control" id="password" type="text">
        </div>
    
   
      
        <button type="submit" class="btn btn-primary">Register</button>
    </form>
    <div class="alert alert-success" role="alert">
        You were succesfully registered <a href="index.html" class="alert-link">Login here.</a>
    </div>

    <div class="alert alert-danger" role="alert">
       
    </div>

    <script type="module">

        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.4/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.9.4/firebase-auth.js";
        const firebaseConfig = {
          apiKey: "AIzaSyAtZu_GY2oeN9GiuFW-cbJ2Rt2nkCtiGWQ",
          authDomain: "solar-project-62057.firebaseapp.com",
          projectId: "solar-project-62057",
          storageBucket: "solar-project-62057.appspot.com",
          messagingSenderId: "568424484873",
          appId: "1:568424484873:web:d13e94580f4eb1e98ca8d8"
        };
      
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();
        let form = document.querySelector('.registerForm');
        let confirmMessage = document.querySelector('.confirmMessage')
        let email = document.getElementById('email');
        let password = document.getElementById('password')
        let fail = document.querySelector('.alert-danger')
     
        let success = document.querySelector('.alert-success');
        form.addEventListener('submit', (e) => {
           e.preventDefault();

           createUserWithEmailAndPassword(auth, email.value, password.value)
       .then((userCredential) => {
    const user = userCredential.user;
  
        fail.style.display = 'none'
        success.style.display = 'block'
    
   
 
     })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
   success.style.display = 'none'
   fail.style.display = 'block'
    fail.textContent = errorMessage;
    
  
  });
  form.reset();
        })
  

  
      </script>

</body>

</html>